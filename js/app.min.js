"use strict";(()=>{const e=document.querySelector("#placement__img-map-wrapper-js"),t=()=>{const e=new google.maps.Map(document.getElementById("map"),{zoom:17,center:{lat:59.93899,lng:30.32145}});new google.maps.Marker({position:{lat:59.938628,lng:30.3238},map:e,icon:"img/map-marker.png"})};if(e){const n=document.createElement("div");n.setAttribute("id","map"),n.setAttribute("class","placement__map"),e.parentElement.replaceChild(n,e);const r=document.createElement("script");r.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdxiZ8JD-Awc3VOchAbkcA54-XHZJYkGY&callback=initMap",r.defer=!0,window.initMap=t,document.head.appendChild(r)}})(),(()=>{const e="ArrowLeft",t="ArrowRight",n=document.querySelector("#filter-panel__cost-title-js"),r=document.querySelector("#cost-min-js"),i=document.querySelector("#cost-max-js");if(n&&r&&i){const o=(e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild})('\n      <div class="filter-panel__cost-range">\n        <div class="filter-panel__cost-range-line">\n          <div\n            class="filter-panel__cost-point filter-panel__cost-point--min"\n            tabindex="0"\n            id="filter-panel__cost-point-min-js"\n            aria-label="Изменить минимальную стоимость"\n          ></div>\n          <div\n            class="filter-panel__cost-point filter-panel__cost-point--max"\n            tabindex="0"\n            id="filter-panel__cost-point-max-js"\n            aria-label="Изменить максимальную стоимость"\n          ></div>\n        </div>\n      </div>\n    '),s=o.querySelector(".filter-panel__cost-range-line"),l=o.querySelector("#filter-panel__cost-point-min-js"),a=o.querySelector("#filter-panel__cost-point-max-js"),c={MIN:{propName:"--min-percent",limitCostValue:0,limitPropValue:0,initPropValue:0,input:r,point:l},MAX:{propName:"--max-percent",limitCostValue:22059,limitPropValue:100,initPropValue:68,input:i,point:a}},p=e=>parseFloat(o.style.getPropertyValue(e.propName).split("%")[0]),u=e=>{const t=parseInt(e.input.value,10);return Number.isNaN(t)?e.limitPropValue:t/c.MAX.limitCostValue*c.MAX.limitPropValue},d=e=>{const t=p(e);return Math.round(c.MAX.limitCostValue*t/c.MAX.limitPropValue)},m=e=>{const t=d(e);parseFloat(e.input.value)!==t&&(e.input.value=t)},v=(e,t)=>{o.style.setProperty(e.propName,t+"%"),m(e)},_=(e,t)=>{(t=t||u(e))<c.MIN.limitPropValue?t=c.MIN.limitPropValue:t>c.MAX.limitPropValue&&(t=c.MAX.limitPropValue),e===c.MIN&&t>p(c.MAX)?v(c.MAX,t):e===c.MAX&&t<p(c.MIN)&&v(c.MIN,t),v(e,t)},L=e=>{e.target===c.MIN.input?_(c.MIN):_(c.MAX)},E=e=>{const t=e.target===c.MIN.point?c.MIN:c.MAX,n=s.clientWidth,r=s.getBoundingClientRect().left,i=e=>{const i=Math.round((e.x-r)/n*100);_(t,i)},o=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",o)},y=n=>{const r=n.target===c.MIN.point?c.MIN:c.MAX;n.code===e?_(r,p(r)-1):n.code===t&&_(r,p(r)+1)};v(c.MIN,c.MIN.initPropValue),v(c.MAX,c.MAX.initPropValue),r.addEventListener("input",L),i.addEventListener("input",L),l.addEventListener("mousedown",E),a.addEventListener("mousedown",E),l.addEventListener("keydown",y),a.addEventListener("keydown",y),n.after(o)}})(),(()=>{const e="popup--opened",t="popup--error",n="popup__input--error",r=document.querySelector("#placement__description-button-js"),i=document.querySelector("#popup-js"),o=i.querySelector("#popup__form-js"),s=i.querySelector("#popup__close-button-js"),l=i.querySelector("#popup__submit-js"),a=i.querySelector("#popup-field-name-js"),c=i.querySelector("#popup-field-email-js"),p=i.querySelector("#popup-field-letter-js"),u={NAME:"userName",EMAIL:"userEmail"},d=e=>{"Escape"===e.code&&v()},m=t=>{t.preventDefault(),i.classList.add(e),a.value=localStorage.getItem(u.NAME),c.value=localStorage.getItem(u.EMAIL),s.addEventListener("click",v),l.addEventListener("click",_),a.addEventListener("input",y),c.addEventListener("input",y),p.addEventListener("input",y),document.addEventListener("keydown",d),a.focus()},v=n=>{n&&n.preventDefault(),i.classList.remove(e),i.classList.remove(t),s.removeEventListener("click",v),l.removeEventListener("click",_),a.removeEventListener("input",y),c.removeEventListener("input",y),p.removeEventListener("input",y),document.removeEventListener("keydown",d),r.focus()},_=e=>{e.preventDefault(),i.classList.remove(t),E()&&fetch("https://echo.htmlacademy.ru/",{method:"POST",body:new FormData(o)}).then((e=>{if(!e.ok)throw i.classList.add(t),new Error(`_${e.status}: ${e.statusText}`);return localStorage.setItem(u.NAME,a.value),localStorage.setItem(u.EMAIL,c.value),a.value="",c.value="",p.value="",v(),e})).catch((e=>{throw i.classList.add(t),e}))},L=e=>e.value.length>0?(e.setCustomValidity(""),!0):(e.setCustomValidity("Обязательное поле для заполнения"),e.classList.add(n),setTimeout((()=>{e.classList.remove(n)}),500),!1),E=()=>L(a)&&L(c)&&L(p),y=e=>{L(e.target)};i&&r&&s&&l&&(i.classList.remove("popup--no-js"),r.addEventListener("click",m),a.required=!1,c.required=!1,p.required=!1)})(),(()=>{const e=document.querySelector(".principles");if(e){const t="principles__slide--active",n="principles__control-button--active",r=e=>{const t=document.createElement("div");return t.innerHTML=e,t.firstChild},i=(i,o)=>{const s=r(`<li>\n          <button class="principles__control-button  ${o?"":n}" type="button">\n            <span class="visually-hidden">Принцип ${o+1}</span>\n          </button>\n        </li>`);return s.firstElementChild.addEventListener("click",(r=>{const o=e.querySelector("."+t);o!==i&&(e.querySelector("."+n).classList.remove(n),o.classList.remove(t),i.classList.add(t),r.target.classList.add(n))})),o||i.classList.add(t),s},o=e.querySelector("#principles__slider-js"),s=e.querySelectorAll(".principles__slide"),l=r('<ul class="principles__control list-reset"></ul>');s.forEach(((e,t)=>{e.classList.remove("principles__slide--no-js"),l.append(i(e,t))})),o.after(l)}})(),(()=>{const e=Array.from(document.querySelectorAll(".sort-panel__type")),t=Array.from(document.querySelectorAll(".sort-panel__direction")),n=n=>{const r=n.target;let i="",o=[];e.includes(r)?(i="sort-panel__type--active",o=e):(i="sort-panel__direction--active",o=t),o.filter((e=>e.classList.contains(i))).forEach((e=>e.classList.remove(i))),r.classList.add(i)};e.forEach((e=>e.addEventListener("click",n))),t.forEach((e=>e.addEventListener("click",n)))})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsIm11bHRpcGxlLXJhbmdlLmpzIiwicG9wdXAuanMiLCJzbGlkZXIuanMiLCJzb3J0LmpzIl0sIm5hbWVzIjpbIm1hcEltZ1dyYXBwZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbml0TWFwIiwibWFwIiwiZ29vZ2xlIiwibWFwcyIsIk1hcCIsImdldEVsZW1lbnRCeUlkIiwiem9vbSIsImNlbnRlciIsImxhdCIsImxuZyIsIk1hcmtlciIsInBvc2l0aW9uIiwiaWNvbiIsIm1hcENvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJwYXJlbnRFbGVtZW50IiwicmVwbGFjZUNoaWxkIiwic2NyaXB0Iiwic3JjIiwiZGVmZXIiLCJ3aW5kb3ciLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJLZXlDb2RlIiwicHJldkVsZW1lbnQiLCJtaW5Db3N0IiwibWF4Q29zdCIsInJhbmdlQmxvY2siLCJ0ZW1wbGF0ZSIsIndyYXBwZXIiLCJpbm5lckhUTUwiLCJmaXJzdEVsZW1lbnRDaGlsZCIsInJhbmdlTGluZSIsInBvaW50TWluIiwicG9pbnRNYXgiLCJDb3N0T2JqIiwiTUlOIiwicHJvcE5hbWUiLCJsaW1pdENvc3RWYWx1ZSIsImxpbWl0UHJvcFZhbHVlIiwiaW5pdFByb3BWYWx1ZSIsImlucHV0IiwicG9pbnQiLCJNQVgiLCJnZXRDdXJyZW50UHJvcFZhbHVlIiwiY29zdE9iaiIsInBhcnNlRmxvYXQiLCJzdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJzcGxpdCIsImNhbGN1bGF0ZVByb3BWYWx1ZSIsIm5ld0Nvc3RWYWx1ZSIsInBhcnNlSW50IiwidmFsdWUiLCJOdW1iZXIiLCJpc05hTiIsImNhbGN1bGF0ZUNvc3RWYWx1ZSIsImN1cnJlbnRQcm9wVmFsdWUiLCJNYXRoIiwicm91bmQiLCJjaGFuZ2VDb3N0VmFsdWUiLCJtYWtlU3luY2hyb25pemF0aW9uIiwibmV3UHJvcFZhbHVlIiwic2V0UHJvcGVydHkiLCJjaGFuZ2VQcm9wVmFsdWUiLCJvbkNoYW5nZUNvc3RWYWx1ZSIsImV2dCIsInRhcmdldCIsIm9uUG9pbnRNb3VzZURvd24iLCJkb3duRXZ0IiwibGluZVdpZHRoIiwiY2xpZW50V2lkdGgiLCJsZWZ0T2Zmc2V0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibGVmdCIsIm9uTW92ZVBvaW50IiwibW91c2VFdnQiLCJ4Iiwib25VcFBvaW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblBvaW50S2V5RG93biIsImtleURvd25FdnQiLCJjb2RlIiwiYWZ0ZXIiLCJPUEVORURfQ0xBU1MiLCJFUlJPUl9TVUJNSVRfQ0xBU1MiLCJFUlJPUl9JTlBVVF9DTEFTUyIsIm9wZW5Qb3B1cEJ0biIsInBvcHVwIiwicG9wdXBGb3JtIiwiY2xvc2VQb3B1cEJ0biIsInN1Ym1pdFBvcHVwRm9ybUJ0biIsIm5hbWVJbnB1dCIsImVtYWlsSW5wdXQiLCJsZXR0ZXJUZXh0YXJlYSIsIkxvY2FsU3RvcmFnZUtleSIsIk5BTUUiLCJFTUFJTCIsIm9uRXNjS2V5RG93biIsImNsb3NlUG9wdXAiLCJvcGVuUG9wdXAiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTGlzdCIsImFkZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdWJtaXRGb3JtIiwib25GaWVsZERhdGFDaGFuZ2VkIiwiZm9jdXMiLCJyZW1vdmUiLCJpc1ZhbGlkRm9ybURhdGEiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJGb3JtRGF0YSIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0Iiwic2V0SXRlbSIsImNhdGNoIiwiZXJyb3IiLCJpc1ZhbGlkRmllbGQiLCJmaWVsZCIsImxlbmd0aCIsInNldEN1c3RvbVZhbGlkaXR5Iiwic2V0VGltZW91dCIsInJlcXVpcmVkIiwic2xpZGVyQ29udGFpbmVyIiwiU0xJREVfQUNUSVZFX0NMQVNTIiwiQlVUVE9OX0FDVElWRV9DTEFTUyIsIm5ld0VsZW1lbnQiLCJmaXJzdENoaWxkIiwiY3JlYXRlU2xpZGVyQnV0dG9uIiwic2xpZGUiLCJudW1iZXIiLCJidXR0b25XcmFwcGVyIiwiY3VycmVudFNsaWRlIiwiYmVmb3JlSW5zZXJ0QmxvY2siLCJzbGlkZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uc0NvbnRhaW5lciIsImZvckVhY2giLCJpbmRleCIsImFwcGVuZCIsInNvcnRUeXBlQnV0dG9ucyIsIkFycmF5IiwiZnJvbSIsInNvcnREaXJlY3Rpb25CdXR0b25zIiwib25CdG5DbGljayIsInNlbGVjdGVkQnRuIiwiYWN0aXZlQ2xhc3MiLCJidG5zIiwiaW5jbHVkZXMiLCJmaWx0ZXIiLCJidG4iLCJjb250YWlucyJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxNQUNBLE1BQUFBLEVBQUFDLFNBQUFDLGNBQUEsa0NBRUFDLEVBQUEsS0FFQSxNQUFBQyxFQUFBLElBQUFDLE9BQUFDLEtBQUFDLElBQUFOLFNBQUFPLGVBQUEsT0FBQSxDQUNBQyxLQUFBLEdBQ0FDLE9BQUEsQ0FDQUMsSUFBQSxTQUNBQyxJQUFBLFlBS0EsSUFBQVAsT0FBQUMsS0FBQU8sT0FBQSxDQUNBQyxTQUFBLENBQ0FILElBQUEsVUFDQUMsSUFBQSxTQUVBUixJQUFBQSxFQUNBVyxLQUFBLHdCQUlBLEdBQUFmLEVBQUEsQ0FDQSxNQUFBZ0IsRUFBQWYsU0FBQWdCLGNBQUEsT0FDQUQsRUFBQUUsYUFBQSxLQUFBLE9BQ0FGLEVBQUFFLGFBQUEsUUFBQSxrQkFDQWxCLEVBQUFtQixjQUFBQyxhQUFBSixFQUFBaEIsR0FFQSxNQUFBcUIsRUFBQXBCLFNBQUFnQixjQUFBLFVBQ0FJLEVBQUFDLElBQUEsdUdBQ0FELEVBQUFFLE9BQUEsRUFFQUMsT0FBQXJCLFFBQUFBLEVBRUFGLFNBQUF3QixLQUFBQyxZQUFBTCxLQXBDQSxHQ0FBLE1BQ0EsTUFBQU0sRUFDQSxZQURBQSxFQUVBLGFBR0FDLEVBQUEzQixTQUFBQyxjQUFBLGdDQUNBMkIsRUFBQTVCLFNBQUFDLGNBQUEs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SUFDQSxNQUFBdUYsRUFBQXZGLEVBQUFDLE9BQ0EsSUFBQXVGLEVBQUEsR0FDQUMsRUFBQSxHQUVBUCxFQUFBUSxTQUFBSCxJQUNBQyxFQVpBLDJCQWFBQyxFQUFBUCxJQUVBTSxFQWRBLGdDQWVBQyxFQUFBSixHQUdBSSxFQUNBRSxRQUFBQyxHQUFBQSxFQUFBdkQsVUFBQXdELFNBQUFMLEtBQ0FULFNBQUFhLEdBQUFBLEVBQUF2RCxVQUFBTyxPQUFBNEMsS0FFQUQsRUFBQWxELFVBQUFDLElBQUFrRCxJQUdBTixFQUFBSCxTQUFBYSxHQUFBQSxFQUFBOUUsaUJBQUEsUUFBQXdFLEtBQ0FELEVBQUFOLFNBQUFhLEdBQUFBLEVBQUE5RSxpQkFBQSxRQUFBd0UsTUE1QkEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuKCgpID0+IHtcbiAgY29uc3QgbWFwSW1nV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwbGFjZW1lbnRfX2ltZy1tYXAtd3JhcHBlci1qc2ApO1xuXG4gIGNvbnN0IGluaXRNYXAgPSAoKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgY29uc3QgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWFwYCksIHtcbiAgICAgIHpvb206IDE3LFxuICAgICAgY2VudGVyOiB7XG4gICAgICAgIGxhdDogNTkuOTM4OTkwLFxuICAgICAgICBsbmc6IDMwLjMyMTQ1MCxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYsIG5vLXVudXNlZC12YXJzXG4gICAgY29uc3QgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICBsYXQ6IDU5LjkzODYyOCxcbiAgICAgICAgbG5nOiAzMC4zMjM4MDAsXG4gICAgICB9LFxuICAgICAgbWFwLFxuICAgICAgaWNvbjogYGltZy9tYXAtbWFya2VyLnBuZ2AsXG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKG1hcEltZ1dyYXBwZXIpIHtcbiAgICBjb25zdCBtYXBDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcbiAgICBtYXBDb250YWluZXIuc2V0QXR0cmlidXRlKGBpZGAsIGBtYXBgKTtcbiAgICBtYXBDb250YWluZXIuc2V0QXR0cmlidXRlKGBjbGFzc2AsIGBwbGFjZW1lbnRfX21hcGApO1xuICAgIG1hcEltZ1dyYXBwZXIucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQobWFwQ29udGFpbmVyLCBtYXBJbWdXcmFwcGVyKTtcblxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHNjcmlwdGApO1xuICAgIHNjcmlwdC5zcmMgPSBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT1BSXphU3lEZHhpWjhKRC1Bd2MzVk9jaEFia2NBNTQtWEhaSllrR1kmY2FsbGJhY2s9aW5pdE1hcGA7XG4gICAgc2NyaXB0LmRlZmVyID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5pbml0TWFwID0gaW5pdE1hcDtcblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgfVxufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuKCgpID0+IHtcbiAgY29uc3QgS2V5Q29kZSA9IHtcbiAgICBsZWZ0OiBgQXJyb3dMZWZ0YCxcbiAgICByaWdodDogYEFycm93UmlnaHRgLFxuICB9O1xuXG4gIGNvbnN0IHByZXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2ZpbHRlci1wYW5lbF9fY29zdC10aXRsZS1qc2ApO1xuICBjb25zdCBtaW5Db3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2Nvc3QtbWluLWpzYCk7XG4gIGNvbnN0IG1heENvc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY29zdC1tYXgtanNgKTtcblxuICBjb25zdCBjcmVhdGVFbGVtZW50ID0gKHRlbXBsYXRlKSA9PiB7XG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xuICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG5cbiAgICByZXR1cm4gd3JhcHBlci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgfTtcblxuICBpZiAocHJldkVsZW1lbnQgJiYgbWluQ29zdCAmJiBtYXhDb3N0KSB7XG4gICAgY29uc3QgbWFya3VwID0gKGBcbiAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXItcGFuZWxfX2Nvc3QtcmFuZ2VcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbHRlci1wYW5lbF9fY29zdC1yYW5nZS1saW5lXCI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3M9XCJmaWx0ZXItcGFuZWxfX2Nvc3QtcG9pbnQgZmlsdGVyLXBhbmVsX19jb3N0LXBvaW50LS1taW5cIlxuICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgIGlkPVwiZmlsdGVyLXBhbmVsX19jb3N0LXBvaW50LW1pbi1qc1wiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwi0JjQt9C80LXQvdC40YLRjCDQvNC40L3QuNC80LDQu9GM0L3Rg9GOINGB0YLQvtC40LzQvtGB0YLRjFwiXG4gICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzPVwiZmlsdGVyLXBhbmVsX19jb3N0LXBvaW50IGZpbHRlci1wYW5lbF9fY29zdC1wb2ludC0tbWF4XCJcbiAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICBpZD1cImZpbHRlci1wYW5lbF9fY29zdC1wb2ludC1tYXgtanNcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cItCY0LfQvNC10L3QuNGC0Ywg0LzQsNC60YHQuNC80LDQu9GM0L3Rg9GOINGB0YLQvtC40LzQvtGB0YLRjFwiXG4gICAgICAgICAgPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGApO1xuXG4gICAgY29uc3QgcmFuZ2VCbG9jayA9IGNyZWF0ZUVsZW1lbnQobWFya3VwKTtcbiAgICBjb25zdCByYW5nZUxpbmUgPSByYW5nZUJsb2NrLnF1ZXJ5U2VsZWN0b3IoYC5maWx0ZXItcGFuZWxfX2Nvc3QtcmFuZ2UtbGluZWApO1xuICAgIGNvbnN0IHBvaW50TWluID0gcmFuZ2VCbG9jay5xdWVyeVNlbGVjdG9yKGAjZmlsdGVyLXBhbmVsX19jb3N0LXBvaW50LW1pbi1qc2ApO1xuICAgIGNvbnN0IHBvaW50TWF4ID0gcmFuZ2VCbG9jay5xdWVyeVNlbGVjdG9yKGAjZmlsdGVyLXBhbmVsX19jb3N0LXBvaW50LW1heC1qc2ApO1xuXG4gICAgY29uc3QgQ29zdE9iaiA9IHtcbiAgICAgIE1JTjoge1xuICAgICAgICBwcm9wTmFtZTogYC0tbWluLXBlcmNlbnRgLFxuICAgICAgICBsaW1pdENvc3RWYWx1ZTogMCxcbiAgICAgICAgbGltaXRQcm9wVmFsdWU6IDAsXG4gICAgICAgIGluaXRQcm9wVmFsdWU6IDAsXG4gICAgICAgIGlucHV0OiBtaW5Db3N0LFxuICAgICAgICBwb2ludDogcG9pbnRNaW4sXG4gICAgICB9LFxuICAgICAgTUFYOiB7XG4gICAgICAgIHByb3BOYW1lOiBgLS1tYXgtcGVyY2VudGAsXG4gICAgICAgIGxpbWl0Q29zdFZhbHVlOiAyMjA1OSxcbiAgICAgICAgbGltaXRQcm9wVmFsdWU6IDEwMCxcbiAgICAgICAgaW5pdFByb3BWYWx1ZTogNjgsXG4gICAgICAgIGlucHV0OiBtYXhDb3N0LFxuICAgICAgICBwb2ludDogcG9pbnRNYXgsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zdCBnZXRDdXJyZW50UHJvcFZhbHVlID0gKGNvc3RPYmopID0+IHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KFxuICAgICAgICAgIHJhbmdlQmxvY2suc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShjb3N0T2JqLnByb3BOYW1lKS5zcGxpdChgJWApWzBdXG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCBjYWxjdWxhdGVQcm9wVmFsdWUgPSAoY29zdE9iaikgPT4ge1xuICAgICAgY29uc3QgbmV3Q29zdFZhbHVlID0gcGFyc2VJbnQoY29zdE9iai5pbnB1dC52YWx1ZSwgMTApO1xuXG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKG5ld0Nvc3RWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvc3RPYmoubGltaXRQcm9wVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdDb3N0VmFsdWUgLyBDb3N0T2JqLk1BWC5saW1pdENvc3RWYWx1ZSAqIENvc3RPYmouTUFYLmxpbWl0UHJvcFZhbHVlO1xuICAgIH07XG5cbiAgICBjb25zdCBjYWxjdWxhdGVDb3N0VmFsdWUgPSAoY29zdE9iaikgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFByb3BWYWx1ZSA9IGdldEN1cnJlbnRQcm9wVmFsdWUoY29zdE9iaik7XG5cbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKFxuICAgICAgICAgIENvc3RPYmouTUFYLmxpbWl0Q29zdFZhbHVlICogY3VycmVudFByb3BWYWx1ZSAvIENvc3RPYmouTUFYLmxpbWl0UHJvcFZhbHVlXG4gICAgICApO1xuICAgIH07XG5cbiAgICBjb25zdCBjaGFuZ2VDb3N0VmFsdWUgPSAoY29zdE9iaikgPT4ge1xuICAgICAgY29uc3QgbmV3Q29zdFZhbHVlID0gY2FsY3VsYXRlQ29zdFZhbHVlKGNvc3RPYmopO1xuXG4gICAgICBpZiAocGFyc2VGbG9hdChjb3N0T2JqLmlucHV0LnZhbHVlKSAhPT0gbmV3Q29zdFZhbHVlKSB7XG4gICAgICAgIGNvc3RPYmouaW5wdXQudmFsdWUgPSBuZXdDb3N0VmFsdWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG1ha2VTeW5jaHJvbml6YXRpb24gPSAoY29zdE9iaiwgbmV3UHJvcFZhbHVlKSA9PiB7XG4gICAgICByYW5nZUJsb2NrLnN0eWxlLnNldFByb3BlcnR5KGNvc3RPYmoucHJvcE5hbWUsIGAke25ld1Byb3BWYWx1ZX0lYCk7XG4gICAgICBjaGFuZ2VDb3N0VmFsdWUoY29zdE9iaik7XG4gICAgfTtcblxuICAgIGNvbnN0IGNoYW5nZVByb3BWYWx1ZSA9IChjb3N0T2JqLCBuZXdQcm9wVmFsdWUpID0+IHtcbiAgICAgIG5ld1Byb3BWYWx1ZSA9IG5ld1Byb3BWYWx1ZSA/IG5ld1Byb3BWYWx1ZSA6IGNhbGN1bGF0ZVByb3BWYWx1ZShjb3N0T2JqKTtcblxuICAgICAgaWYgKG5ld1Byb3BWYWx1ZSA8IENvc3RPYmouTUlOLmxpbWl0UHJvcFZhbHVlKSB7XG4gICAgICAgIG5ld1Byb3BWYWx1ZSA9IENvc3RPYmouTUlOLmxpbWl0UHJvcFZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChuZXdQcm9wVmFsdWUgPiBDb3N0T2JqLk1BWC5saW1pdFByb3BWYWx1ZSkge1xuICAgICAgICBuZXdQcm9wVmFsdWUgPSBDb3N0T2JqLk1BWC5saW1pdFByb3BWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvc3RPYmogPT09IENvc3RPYmouTUlOICYmIG5ld1Byb3BWYWx1ZSA+IGdldEN1cnJlbnRQcm9wVmFsdWUoQ29zdE9iai5NQVgpKSB7XG4gICAgICAgIG1ha2VTeW5jaHJvbml6YXRpb24oQ29zdE9iai5NQVgsIG5ld1Byb3BWYWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGNvc3RPYmogPT09IENvc3RPYmouTUFYICYmIG5ld1Byb3BWYWx1ZSA8IGdldEN1cnJlbnRQcm9wVmFsdWUoQ29zdE9iai5NSU4pKSB7XG4gICAgICAgIG1ha2VTeW5jaHJvbml6YXRpb24oQ29zdE9iai5NSU4sIG5ld1Byb3BWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIG1ha2VTeW5jaHJvbml6YXRpb24oY29zdE9iaiwgbmV3UHJvcFZhbHVlKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25DaGFuZ2VDb3N0VmFsdWUgPSAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gQ29zdE9iai5NSU4uaW5wdXQpIHtcbiAgICAgICAgY2hhbmdlUHJvcFZhbHVlKENvc3RPYmouTUlOKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5nZVByb3BWYWx1ZShDb3N0T2JqLk1BWCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9uUG9pbnRNb3VzZURvd24gPSAoZG93bkV2dCkgPT4ge1xuICAgICAgY29uc3QgY29zdE9iaiA9IGRvd25FdnQudGFyZ2V0ID09PSBDb3N0T2JqLk1JTi5wb2ludFxuICAgICAgICA/IENvc3RPYmouTUlOXG4gICAgICAgIDogQ29zdE9iai5NQVg7XG4gICAgICBjb25zdCBsaW5lV2lkdGggPSByYW5nZUxpbmUuY2xpZW50V2lkdGg7XG4gICAgICBjb25zdCBsZWZ0T2Zmc2V0ID0gcmFuZ2VMaW5lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cbiAgICAgIGNvbnN0IG9uTW92ZVBvaW50ID0gKG1vdXNlRXZ0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Byb3BWYWx1ZSA9IE1hdGgucm91bmQoKG1vdXNlRXZ0LnggLSBsZWZ0T2Zmc2V0KSAvIGxpbmVXaWR0aCAqIDEwMCk7XG5cbiAgICAgICAgY2hhbmdlUHJvcFZhbHVlKGNvc3RPYmosIG5ld1Byb3BWYWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBvblVwUG9pbnQgPSAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoYG1vdXNlbW92ZWAsIG9uTW92ZVBvaW50KTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihgbW91c2V1cGAsIG9uVXBQb2ludCk7XG4gICAgICB9O1xuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBtb3VzZW1vdmVgLCBvbk1vdmVQb2ludCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBtb3VzZXVwYCwgb25VcFBvaW50KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25Qb2ludEtleURvd24gPSAoa2V5RG93bkV2dCkgPT4ge1xuICAgICAgY29uc3QgY29zdE9iaiA9IGtleURvd25FdnQudGFyZ2V0ID09PSBDb3N0T2JqLk1JTi5wb2ludFxuICAgICAgICA/IENvc3RPYmouTUlOXG4gICAgICAgIDogQ29zdE9iai5NQVg7XG5cbiAgICAgIGlmIChrZXlEb3duRXZ0LmNvZGUgPT09IEtleUNvZGUubGVmdCkge1xuICAgICAgICBjaGFuZ2VQcm9wVmFsdWUoY29zdE9iaiwgZ2V0Q3VycmVudFByb3BWYWx1ZShjb3N0T2JqKSAtIDEpO1xuICAgICAgfSBlbHNlIGlmIChrZXlEb3duRXZ0LmNvZGUgPT09IEtleUNvZGUucmlnaHQpIHtcbiAgICAgICAgY2hhbmdlUHJvcFZhbHVlKGNvc3RPYmosIGdldEN1cnJlbnRQcm9wVmFsdWUoY29zdE9iaikgKyAxKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbWFrZVN5bmNocm9uaXphdGlvbihDb3N0T2JqLk1JTiwgQ29zdE9iai5NSU4uaW5pdFByb3BWYWx1ZSk7XG4gICAgbWFrZVN5bmNocm9uaXphdGlvbihDb3N0T2JqLk1BWCwgQ29zdE9iai5NQVguaW5pdFByb3BWYWx1ZSk7XG5cbiAgICBtaW5Db3N0LmFkZEV2ZW50TGlzdGVuZXIoYGlucHV0YCwgb25DaGFuZ2VDb3N0VmFsdWUpO1xuICAgIG1heENvc3QuYWRkRXZlbnRMaXN0ZW5lcihgaW5wdXRgLCBvbkNoYW5nZUNvc3RWYWx1ZSk7XG5cbiAgICBwb2ludE1pbi5hZGRFdmVudExpc3RlbmVyKGBtb3VzZWRvd25gLCBvblBvaW50TW91c2VEb3duKTtcbiAgICBwb2ludE1heC5hZGRFdmVudExpc3RlbmVyKGBtb3VzZWRvd25gLCBvblBvaW50TW91c2VEb3duKTtcblxuICAgIHBvaW50TWluLmFkZEV2ZW50TGlzdGVuZXIoYGtleWRvd25gLCBvblBvaW50S2V5RG93bik7XG4gICAgcG9pbnRNYXguYWRkRXZlbnRMaXN0ZW5lcihga2V5ZG93bmAsIG9uUG9pbnRLZXlEb3duKTtcblxuICAgIHByZXZFbGVtZW50LmFmdGVyKHJhbmdlQmxvY2spO1xuICB9XG59KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4oKCkgPT4ge1xuICBjb25zdCBPUEVORURfQ0xBU1MgPSBgcG9wdXAtLW9wZW5lZGA7XG4gIGNvbnN0IE5PX0pTX0NMQVNTID0gYHBvcHVwLS1uby1qc2A7XG4gIGNvbnN0IEVSUk9SX1NVQk1JVF9DTEFTUyA9IGBwb3B1cC0tZXJyb3JgO1xuICBjb25zdCBFUlJPUl9JTlBVVF9DTEFTUyA9IGBwb3B1cF9faW5wdXQtLWVycm9yYDtcbiAgY29uc3QgRVJST1JfTUVTU0FHRSA9IGDQntCx0Y/Qt9Cw0YLQtdC70YzQvdC+0LUg0L/QvtC70LUg0LTQu9GPINC30LDQv9C+0LvQvdC10L3QuNGPYDtcbiAgY29uc3QgVVJMID0gYGh0dHBzOi8vZWNoby5odG1sYWNhZGVteS5ydS9gO1xuXG4gIGNvbnN0IG9wZW5Qb3B1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwbGFjZW1lbnRfX2Rlc2NyaXB0aW9uLWJ1dHRvbi1qc2ApO1xuICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwb3B1cC1qc2ApO1xuICBjb25zdCBwb3B1cEZvcm0gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKGAjcG9wdXBfX2Zvcm0tanNgKTtcbiAgY29uc3QgY2xvc2VQb3B1cEJ0biA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoYCNwb3B1cF9fY2xvc2UtYnV0dG9uLWpzYCk7XG4gIGNvbnN0IHN1Ym1pdFBvcHVwRm9ybUJ0biA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoYCNwb3B1cF9fc3VibWl0LWpzYCk7XG4gIGNvbnN0IG5hbWVJbnB1dCA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoYCNwb3B1cC1maWVsZC1uYW1lLWpzYCk7XG4gIGNvbnN0IGVtYWlsSW5wdXQgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKGAjcG9wdXAtZmllbGQtZW1haWwtanNgKTtcbiAgY29uc3QgbGV0dGVyVGV4dGFyZWEgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKGAjcG9wdXAtZmllbGQtbGV0dGVyLWpzYCk7XG5cbiAgY29uc3QgTG9jYWxTdG9yYWdlS2V5ID0ge1xuICAgIE5BTUU6IGB1c2VyTmFtZWAsXG4gICAgRU1BSUw6IGB1c2VyRW1haWxgLFxuICB9O1xuXG4gIGNvbnN0IG9uRXNjS2V5RG93biA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmNvZGUgPT09IGBFc2NhcGVgKSB7XG4gICAgICBjbG9zZVBvcHVwKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9wZW5Qb3B1cCA9IChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoT1BFTkVEX0NMQVNTKTtcblxuICAgIG5hbWVJbnB1dC52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExvY2FsU3RvcmFnZUtleS5OQU1FKTtcbiAgICBlbWFpbElucHV0LnZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTG9jYWxTdG9yYWdlS2V5LkVNQUlMKTtcblxuICAgIGNsb3NlUG9wdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBjbG9zZVBvcHVwKTtcbiAgICBzdWJtaXRQb3B1cEZvcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBzdWJtaXRGb3JtKTtcbiAgICBuYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihgaW5wdXRgLCBvbkZpZWxkRGF0YUNoYW5nZWQpO1xuICAgIGVtYWlsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihgaW5wdXRgLCBvbkZpZWxkRGF0YUNoYW5nZWQpO1xuICAgIGxldHRlclRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoYGlucHV0YCwgb25GaWVsZERhdGFDaGFuZ2VkKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBrZXlkb3duYCwgb25Fc2NLZXlEb3duKTtcblxuICAgIG5hbWVJbnB1dC5mb2N1cygpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3NlUG9wdXAgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShPUEVORURfQ0xBU1MpO1xuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoRVJST1JfU1VCTUlUX0NMQVNTKTtcblxuICAgIGNsb3NlUG9wdXBCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBjbG9zZVBvcHVwKTtcbiAgICBzdWJtaXRQb3B1cEZvcm1CdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBzdWJtaXRGb3JtKTtcbiAgICBuYW1lSW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihgaW5wdXRgLCBvbkZpZWxkRGF0YUNoYW5nZWQpO1xuICAgIGVtYWlsSW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihgaW5wdXRgLCBvbkZpZWxkRGF0YUNoYW5nZWQpO1xuICAgIGxldHRlclRleHRhcmVhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYGlucHV0YCwgb25GaWVsZERhdGFDaGFuZ2VkKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGBrZXlkb3duYCwgb25Fc2NLZXlEb3duKTtcblxuICAgIG9wZW5Qb3B1cEJ0bi5mb2N1cygpO1xuICB9O1xuXG4gIGNvbnN0IGNsZWFyUG9wdXAgPSAoKSA9PiB7XG4gICAgbmFtZUlucHV0LnZhbHVlID0gYGA7XG4gICAgZW1haWxJbnB1dC52YWx1ZSA9IGBgO1xuICAgIGxldHRlclRleHRhcmVhLnZhbHVlID0gYGA7XG4gIH07XG5cbiAgY29uc3Qgc3VibWl0Rm9ybSA9IChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoRVJST1JfU1VCTUlUX0NMQVNTKTtcblxuICAgIGlmIChpc1ZhbGlkRm9ybURhdGEoKSkge1xuICAgICAgZmV0Y2goVVJMLCB7XG4gICAgICAgIG1ldGhvZDogYFBPU1RgLFxuICAgICAgICBib2R5OiBuZXcgRm9ybURhdGEocG9wdXBGb3JtKSxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoRVJST1JfU1VCTUlUX0NMQVNTKTtcblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBfJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTG9jYWxTdG9yYWdlS2V5Lk5BTUUsIG5hbWVJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTG9jYWxTdG9yYWdlS2V5LkVNQUlMLCBlbWFpbElucHV0LnZhbHVlKTtcblxuICAgICAgICAgIGNsZWFyUG9wdXAoKTtcbiAgICAgICAgICBjbG9zZVBvcHVwKCk7XG5cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKEVSUk9SX1NVQk1JVF9DTEFTUyk7XG5cbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGlzVmFsaWRGaWVsZCA9IChmaWVsZCkgPT4ge1xuICAgIGlmIChmaWVsZC52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICBmaWVsZC5zZXRDdXN0b21WYWxpZGl0eShgYCk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZpZWxkLnNldEN1c3RvbVZhbGlkaXR5KEVSUk9SX01FU1NBR0UpO1xuICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoRVJST1JfSU5QVVRfQ0xBU1MpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZmllbGQuY2xhc3NMaXN0LnJlbW92ZShFUlJPUl9JTlBVVF9DTEFTUyk7XG4gICAgfSwgNTAwKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBpc1ZhbGlkRm9ybURhdGEgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGlzVmFsaWRGaWVsZChuYW1lSW5wdXQpXG4gICAgICAmJiBpc1ZhbGlkRmllbGQoZW1haWxJbnB1dClcbiAgICAgICYmIGlzVmFsaWRGaWVsZChsZXR0ZXJUZXh0YXJlYSk7XG4gIH07XG5cbiAgY29uc3Qgb25GaWVsZERhdGFDaGFuZ2VkID0gKGV2dCkgPT4ge1xuICAgIGlzVmFsaWRGaWVsZChldnQudGFyZ2V0KTtcbiAgfTtcblxuICBpZiAocG9wdXAgJiYgb3BlblBvcHVwQnRuICYmIGNsb3NlUG9wdXBCdG4gJiYgc3VibWl0UG9wdXBGb3JtQnRuKSB7XG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShOT19KU19DTEFTUyk7XG4gICAgb3BlblBvcHVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgb3BlblBvcHVwKTtcblxuICAgIG5hbWVJbnB1dC5yZXF1aXJlZCA9IGZhbHNlO1xuICAgIGVtYWlsSW5wdXQucmVxdWlyZWQgPSBmYWxzZTtcbiAgICBsZXR0ZXJUZXh0YXJlYS5yZXF1aXJlZCA9IGZhbHNlO1xuICB9XG59KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4oKCkgPT4ge1xuICBjb25zdCBzbGlkZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJpbmNpcGxlc2ApO1xuXG4gIGlmIChzbGlkZXJDb250YWluZXIpIHtcbiAgICBjb25zdCBTTElERV9BQ1RJVkVfQ0xBU1MgPSBgcHJpbmNpcGxlc19fc2xpZGUtLWFjdGl2ZWA7XG4gICAgY29uc3QgQlVUVE9OX0FDVElWRV9DTEFTUyA9IGBwcmluY2lwbGVzX19jb250cm9sLWJ1dHRvbi0tYWN0aXZlYDtcblxuICAgIGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAodGVtcGxhdGUpID0+IHtcbiAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcbiAgICAgIG5ld0VsZW1lbnQuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG5cbiAgICAgIHJldHVybiBuZXdFbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgfTtcblxuICAgIGNvbnN0IGNyZWF0ZVNsaWRlckJ1dHRvbiA9IChzbGlkZSwgbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBidXR0b25UZW1wbGF0ZSA9IChcbiAgICAgICAgYDxsaT5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHJpbmNpcGxlc19fY29udHJvbC1idXR0b24gICR7bnVtYmVyID8gYGAgOiBCVVRUT05fQUNUSVZFX0NMQVNTfVwiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidmlzdWFsbHktaGlkZGVuXCI+0J/RgNC40L3RhtC40L8gJHtudW1iZXIgKyAxfTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5gXG4gICAgICApO1xuXG4gICAgICBjb25zdCBidXR0b25XcmFwcGVyID0gY3JlYXRlRWxlbWVudChidXR0b25UZW1wbGF0ZSk7XG4gICAgICBidXR0b25XcmFwcGVyLmZpcnN0RWxlbWVudENoaWxkLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgKGV2dCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50U2xpZGUgPSBzbGlkZXJDb250YWluZXIucXVlcnlTZWxlY3RvcihgLiR7U0xJREVfQUNUSVZFX0NMQVNTfWApO1xuXG4gICAgICAgIGlmIChjdXJyZW50U2xpZGUgIT09IHNsaWRlKSB7XG4gICAgICAgICAgc2xpZGVyQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke0JVVFRPTl9BQ1RJVkVfQ0xBU1N9YClcbiAgICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKEJVVFRPTl9BQ1RJVkVfQ0xBU1MpO1xuICAgICAgICAgIGN1cnJlbnRTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKFNMSURFX0FDVElWRV9DTEFTUyk7XG5cbiAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKFNMSURFX0FDVElWRV9DTEFTUyk7XG4gICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuYWRkKEJVVFRPTl9BQ1RJVkVfQ0xBU1MpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFudW1iZXIpIHtcbiAgICAgICAgc2xpZGUuY2xhc3NMaXN0LmFkZChTTElERV9BQ1RJVkVfQ0xBU1MpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnV0dG9uV3JhcHBlcjtcbiAgICB9O1xuXG4gICAgY29uc3QgYmVmb3JlSW5zZXJ0QmxvY2sgPSBzbGlkZXJDb250YWluZXIucXVlcnlTZWxlY3RvcihgI3ByaW5jaXBsZXNfX3NsaWRlci1qc2ApO1xuICAgIGNvbnN0IHNsaWRlcyA9IHNsaWRlckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGAucHJpbmNpcGxlc19fc2xpZGVgKTtcblxuICAgIGNvbnN0IGJ1dHRvbnNDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KGA8dWwgY2xhc3M9XCJwcmluY2lwbGVzX19jb250cm9sIGxpc3QtcmVzZXRcIj48L3VsPmApO1xuXG4gICAgc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpbmRleCkgPT4ge1xuICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZShgcHJpbmNpcGxlc19fc2xpZGUtLW5vLWpzYCk7XG5cbiAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kKGNyZWF0ZVNsaWRlckJ1dHRvbihzbGlkZSwgaW5kZXgpKTtcbiAgICB9KTtcblxuXG4gICAgYmVmb3JlSW5zZXJ0QmxvY2suYWZ0ZXIoYnV0dG9uc0NvbnRhaW5lcik7XG4gIH1cbn0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbigoKSA9PiB7XG4gIGNvbnN0IEFDVElWRV9TT1JUX1RZUEVfQ0xBU1MgPSBgc29ydC1wYW5lbF9fdHlwZS0tYWN0aXZlYDtcbiAgY29uc3QgQUNUSVZFX1NPUlRfRElSRUNUSU9OX0NMQVNTID0gYHNvcnQtcGFuZWxfX2RpcmVjdGlvbi0tYWN0aXZlYDtcblxuICBjb25zdCBzb3J0VHlwZUJ1dHRvbnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5zb3J0LXBhbmVsX190eXBlYCkpO1xuICBjb25zdCBzb3J0RGlyZWN0aW9uQnV0dG9ucyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLnNvcnQtcGFuZWxfX2RpcmVjdGlvbmApKTtcblxuICBjb25zdCBvbkJ0bkNsaWNrID0gKGV2dCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkQnRuID0gZXZ0LnRhcmdldDtcbiAgICBsZXQgYWN0aXZlQ2xhc3MgPSBgYDtcbiAgICBsZXQgYnRucyA9IFtdO1xuXG4gICAgaWYgKHNvcnRUeXBlQnV0dG9ucy5pbmNsdWRlcyhzZWxlY3RlZEJ0bikpIHtcbiAgICAgIGFjdGl2ZUNsYXNzID0gQUNUSVZFX1NPUlRfVFlQRV9DTEFTUztcbiAgICAgIGJ0bnMgPSBzb3J0VHlwZUJ1dHRvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUNsYXNzID0gQUNUSVZFX1NPUlRfRElSRUNUSU9OX0NMQVNTO1xuICAgICAgYnRucyA9IHNvcnREaXJlY3Rpb25CdXR0b25zO1xuICAgIH1cblxuICAgIGJ0bnNcbiAgICAgIC5maWx0ZXIoKGJ0bikgPT4gYnRuLmNsYXNzTGlzdC5jb250YWlucyhhY3RpdmVDbGFzcykpXG4gICAgICAuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzcykpO1xuXG4gICAgc2VsZWN0ZWRCdG4uY2xhc3NMaXN0LmFkZChhY3RpdmVDbGFzcyk7XG4gIH07XG5cbiAgc29ydFR5cGVCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgb25CdG5DbGljaykpO1xuICBzb3J0RGlyZWN0aW9uQnV0dG9ucy5mb3JFYWNoKChidG4pID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIG9uQnRuQ2xpY2spKTtcbn0pKCk7XG4iXX0=
